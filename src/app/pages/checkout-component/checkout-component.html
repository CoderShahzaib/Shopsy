<div class="flex flex-col lg:flex-row justify-center m-5 gap-6">

  <div class="bg-white shadow-2xl rounded-2xl p-6 w-full max-w-md">

    <h1 class="text-2xl font-bold text-center mb-4">
      <i class="fa-solid fa-credit-card text-blue-600 mr-2"></i>
      Checkout
    </h1>

    <form [formGroup]="checkoutForm" (ngSubmit)="onSubmit()" class="space-y-4">

      <input formControlName="personName"
        placeholder="Full Name"
        class="w-full px-4 py-2 border rounded-lg" />

      <input formControlName="email"
        placeholder="Email"
        class="w-full px-4 py-2 border rounded-lg" />

      <textarea formControlName="deliveryAddress"
        rows="3"
        placeholder="Delivery Address"
        class="w-full px-4 py-2 border rounded-lg"></textarea>

      <input formControlName="city"
        placeholder="City"
        class="w-full px-4 py-2 border rounded-lg" />

      <label class="flex gap-2">
        <input type="radio" value="cod" formControlName="paymentMethod" />
        Cash on Delivery
      </label>

      <label class="flex gap-2">
        <input type="radio" value="card" formControlName="paymentMethod" />
        Credit / Debit Card
      </label>

      @if (checkoutForm.value.paymentMethod === 'card') {
        <div class="mt-4">
          <label class="block font-medium mb-2">Card Details</label>
          <div id="card-element" class="p-3 border rounded-lg"></div>
        </div>
      }

      <button
        type="submit"
        class="w-full py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg">
        Place Order
      </button>

    </form>
  </div>

  <div class="bg-gray-50 shadow-2xl rounded-2xl p-6 w-full max-w-md">
    <h2 class="text-xl font-bold mb-4">Your Cart</h2>

    @for (item of userCartItems; track item.id) {
      <div class="flex justify-between border-b py-2">
        <span>{{ item.product.name }} Ã— {{ item.quantity }}</span>
        <span>Rs. {{ item.product.price * item.quantity }}</span>
      </div>
    }

    <div class="flex justify-between font-bold mt-4">
      <span>Total</span>
      <span>Rs. {{ getTotal() }}</span>
    </div>
  </div>

</div>

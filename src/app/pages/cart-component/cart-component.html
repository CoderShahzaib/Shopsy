@if (isOpen) {
<div
  class="fixed top-0 right-0 h-full w-80 bg-white shadow-2xl transform transition-transform duration-300 z-50 flex flex-col"
  [ngClass]="isOpen ? 'translate-x-0' : 'translate-x-full'">
  <div class="flex justify-between items-center border-b px-5 py-4 bg-gray-100">
    <h2 class="text-lg font-bold flex items-center gap-2 text-gray-800">
      <i class="fa-solid fa-cart-shopping text-blue-600"></i>
      Your Cart
    </h2>
    <button class="text-gray-500 hover:text-red-500 transition" (click)="closeCart()">
      <i class="fa-solid fa-xmark text-xl"></i>
    </button>
  </div>
  <div class="p-5 space-y-4 flex-1 overflow-y-auto">
    @for (cartItem of userCartItems; track cartItem.cartId) {
    <div class="flex justify-between items-center border-b pb-3">
      <div class="flex items-center gap-3">
        <img [src]="cartItem.productImageUrl" alt="product" class="w-10 h-10 rounded-md object-cover" />
        <div>
          <p class="text-gray-700 font-medium">{{ cartItem.productName }}</p>
          <p class="text-sm text-gray-500">Qty: {{ cartItem.quantity }}</p>
        </div>
      </div>

      <div class="flex items-center gap-3">
        <p class="font-semibold text-gray-900">
          {{ cartItem.productPrice * cartItem.quantity | currency }}
        </p>
        <button class="text-red-500 hover:text-red-700 transition" (click)="deleteCartItem(cartItem.cartId)">
          <i class="fa-solid fa-trash"></i>
        </button>
      </div>
    </div>
    }
  </div>


  <div class="border-t px-5 py-4 bg-gray-50">
    <div class="flex justify-between items-center mb-4">
      <span class="font-medium text-gray-600">Total</span>
      <span class="font-bold text-xl text-gray-900">
        {{ getTotal() | currency }}
      </span>
    </div>
    <button (click)="goToCheckout()"
      class="w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition flex items-center justify-center gap-2">
      <i class="fa-solid fa-credit-card"></i>
      Checkout
    </button>
  </div>
</div>
}